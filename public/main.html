<!DOCTYPE html>
<html lang="en">
<head> 
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="./assets/css/style.css">
  <title>Commodity Market App</title>
</head>
<body>
  <header class="navi-bar">
    <h1><span class="logo-char">C</span>OMMODITY <span class="logo-char">M</span>ARKET <span class="fa fa-bar-chart"></span></h1>
  </header>   
<nav class="navbar navbar-default">
  <div class="container-fluid">
    <ul class="nav navbar-nav">
      <li class="active"><a href="/"><b>Overview</b></a></li>
      <li><a href="/energy"><b>Energy</b></a></li>
      <li><a href="/metals"><b>Metals</b></a></li>
      <li><a href=/agriculture><b>Agriculture</b></a></li>
    </ul>
  </div>
</nav>
  <br>
<!--Input information-->
  <br> <br> <br>

  <div class="container">
    <div class="row">
      <div class="col-lg-7">
          <div class="jumbotron">
              <h1>Overview</h1>
              <p>A commodity market is a market that trades in primary economic sectors.Investors access about 50 major commodity markets worldwide with purely financial transactions increasingly outnumbering physical trades in which goods are delivered.This app help the investor lower the risk and invest smartly with good returns.</p>
                <div class="icons-1">
                  <div class="container">  
                      <a href="#"><img src="./assets/img/corn.png" class="img-1"></a>
                      <a href="#"><img src="./assets/img/oil.png" class='img-2'></a>
                      <a href="#"><img src="./assets/img/gold.png" class="img-3"></a>
                      <a href="#"><img src="./assets/img/natural-gas.png" class="img-4"></a>          
                  </div>
                </div>
              </p>
            </div>
      </div>
    
  
<!--Input information-->
  <br> 
      <div class="col-lg-5">
      <!-- TradingView Widget BEGIN -->
<div class="tradingview-widget-container">
  <div class="tradingview-widget-container__widget"></div>
  <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/markets/futures/" rel="noopener" target="_blank"><span class="blue-text"></span></a></div>
  <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-market-overview.js" async>
  {
  "showChart": true,
  "locale": "en",
  "largeChartUrl": "",
  "width": "400",
  "height": "660",
  "plotLineColorGrowing": "rgba(60, 188, 152, 1)",
  "plotLineColorFalling": "rgba(255, 74, 104, 1)",
  "gridLineColor": "rgba(233, 233, 234, 1)",
  "scaleFontColor": "rgba(233, 233, 234, 1)",
  "belowLineFillColorGrowing": "rgba(60, 188, 152, 0.05)",
  "belowLineFillColorFalling": "rgba(255, 74, 104, 0.05)",
  "symbolActiveColor": "rgba(242, 250, 254, 1)",
  "tabs": [
    {
      "title": "Commodities",
      "symbols": [
        {
          "s": "TVC:GOLD",
          "d": "Gold"
        },
        {
          "s": "TVC:SILVER",
          "d": "Silver"
        },
        {
          "s": "OANDA:CORNUSD",
          "d": "Corn"
        },
        {
          "s": "FOREXCOM:SOYUSD",
          "d": "Soybean"
        },
        {
          "s": "OANDA:NATGASUSD",
          "d": "Natural Gas"
        },
        {
          "s": "TVC:USOIL",
          "d": "Crude Oil"
        }
      ],
      "originalTitle": "Commodities"
    }
  ]
}
  </script>
</div>
</div>
<!-- TradingView Widget END -->
      </div>
      
    </div>
<!-- main page icon images   -->
<!--Input information-->
  <br> <br> <br>
  <div class="container">
  <br>   
  <div class="container-fluid">      
      <div class="row">
        <div class="col-sm-6">
        <h2>Investment Form</h2>
        <form>
          <div class="form-group">
            <label for=>What's  your capital for investent?:</label>
            <input id="capMoney" type="number" class="form-control" id="dollars" placeholder="Capital investment">
          </div>
          <div class="form-group">
            <label for="pwd">How much would you invest?:</label>
            <input id="investMoney" type="number" class="form-control" id="dollars2" placeholder="Amount to invest">
          </div>
          <h3>Custom Search</h3>
          <form>
            <div class="form-group">
              <label for="percentage">Daily change percentage:</label>
              <input id= "percentChange" type="number" class="form-control" id="daily-change-percentage" placeholder="Daily change percentage">
            </div>
            <div class="form-group">
              <label for="pwd">Contract price:</label>
              <input id= "contractPrice" type="number" class="form-control" id="contract-price" placeholder="Contract price">
            </div>
            <div class="form-group">
                <label for="pwd">Investment strategy:</label>
                <input id= "investment" type="text" class="form-control" id="investment-strategy" placeholder="Investment strategy">
              </div>
          <button id = "submit" type="submit" class="btn btn-default">Submit</button>
        </form>
    </div>
    <div class="col-sm-6">
      <h2>Investment Advice</h2>
      <table class='table'>
          <tr>
            <th></th>
            <th>Corn</th>
            <th>Crude</th>
            <th>Gas</th>
            <th>Gold</th>
            <th>Silver</th>
            <th>Soy</th>
          </tr>
      </table>
    </div>
  </div>
</div>
</div>
</div>
    <br>
    <br clear="all">
 <div class="footer">&copy; Copyright 2018</div>
 <script
 src="https://code.jquery.com/jquery-3.3.1.min.js"
 integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
 crossorigin="anonymous"></script>
<script type="text/javascript">
 // GATHERING USER INPUT
 function attachClickEventHandler(){
   var currentURL = window.location.origin;
   $('#submit').on("click", function(event) {  
     event.preventDefault();
     var moneyObj = {
       inputCapMoney: $('#capMoney').val().trim(),
       inputInvestMoney: $('#investMoney').val().trim(),
       inputPercentChange: $('#percentChange').val().trim(),
       inputContractPrice: $('#contractPrice').val().trim(),
       inputInvestment: $('#investment').val().trim()
     };
      $.get('/api/main', moneyObj, function(data){
        console.log("Here's the results: ", data);
        let tr1 = $("<tr>")
          let td1 = $("<td>").text('BUY AT')
          let td2 = $("<td>").text('$' + data.corn.Buy_at)
          let td3 = $("<td>").text('$' + data.crude.Buy_at)
          let td4 = $("<td>").text('$' + data.gas.Buy_at)
          let td5 = $("<td>").text('$' + data.gold.buy_at)
          let td6 = $("<td>").text('$' + data.silver.Buy_at)
          let td7 = $("<td>").text('$' + data.soy.Buy_at)
            tr1.append(td1)
            tr1.append(td2)
            tr1.append(td3)
            tr1.append(td4)
            tr1.append(td5)
            tr1.append(td6)
            tr1.append(td7)
              $(".table").append(tr1)
         tr1 = $("<tr>")
           td1 = $("<td>").text('SELL AT')
           td2 = $("<td>").text('$' + data.corn.Sell_at)
           td3 = $("<td>").text('$' + data.crude.Sell_at)
           td4 = $("<td>").text('$' + data.gas.Sell_at)
           td5 = $("<td>").text('$' + data.gold.sell_at)
           td6 = $("<td>").text('$' + data.silver.Sell_at)
           td7 = $("<td>").text('$' + data.soy.Sell_at)
            tr1.append(td1)
            tr1.append(td2)
            tr1.append(td3)
            tr1.append(td4)
            tr1.append(td5)
            tr1.append(td6)
            tr1.append(td7)
              $(".table").append(tr1)
        
              tr1 = $("<tr>")
           td1 = $("<td>").text('CURRENT')
           td2 = $("<td>").text('$' + data.corn.Price)
           td3 = $("<td>").text('$' + data.crude.Price)
           td4 = $("<td>").text('$' + data.gas.Price)
           td5 = $("<td>").text('$' + data.gold.Price)
           td6 = $("<td>").text('$' + data.silver.Price)
           td7 = $("<td>").text('$' + data.soy.Price)
            tr1.append(td1)
            tr1.append(td2)
            tr1.append(td3)
            tr1.append(td4)
            tr1.append(td5)
            tr1.append(td6)
            tr1.append(td7)
              $(".table").append(tr1)
        
      });
   });
 }
 $(document).ready(function(){
   attachClickEventHandler();
 });
</script>
</body>
</html>